# FTP
## 原理
ftp是C/S模式，有主动模式和被动模式两种，连接时有两条通道（命令通道21，数据通道20）  
主动模式(active mode)：客户端通过任意端口首先向服务器端的21端口发起TCP连接，建立命令通道，服务器通过这个命令套接字发送各种ftp命令，当涉及到数据传输时，开始建立数据通道。客户端随机打开一个大于1024的端口，通过命令套接字发送PORT命令告知服务器，服务器收到后，通过20端口连接到该端口  
被动模式(passive mode)：需要开启数据通道时，客户端向服务器端发送Request:pasv的命令，服务器在收到该命令后，主动开启一个大于1024的端口，并发送Response响应告知客户端，客户端发起对该端口的连接。  
### 两者的区别
主动模式客户端需要监听一个大于1024的端口，但是客户端可能有某种防火墙，会产生限制，而被动模式客户端不需要监听端口。
### 实现
TODO